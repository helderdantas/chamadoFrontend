(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{9240:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adm/equipamentos",function(){return t(90)}])},2633:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(4051),a=t.n(r);function o(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){o(i,r,a,u,c,"next",e)}function c(e){o(i,r,a,u,c,"throw",e)}u(void 0)}))}}var u=t(9669),c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n=e.prototype;return n.criarEquipamento=function(e){return i(a().mark((function n(){var t,r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t={ativo:!0,nome:e.nome},console.log("entrei"),n.next=5,u.post("".concat("http://localhost:3030/","criarEquipamento/"),t);case 5:return r=n.sent,console.log(r),o=r.data,n.abrupt("return",o);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},n.finalizarEquipamento=function(e){return i(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e.id){n.next=6;break}return t={method:"put",url:"".concat("http://localhost:3030/","updateCampoAtivoEquipamento/")+e.id,headers:{}},n.next=5,u(t);case 5:console.log("finalizado com sucesso");case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("Erro ao finalizar equipamento ".concat(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},n.obterEquipamentosAtivos=function(){return i(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("".concat("http://localhost:3030/","listarEquipamentosAtivos"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},n.obterTodosEquipamentos=function(){return i(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("".concat("http://localhost:3030/","listarTodosEquipamentos"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},e}()},5663:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5893);function a(e){e.cor;return(0,r.jsx)("button",{onClick:e.onClick,className:"bg-blue-900\n         text-white px-2 py-2 rounded-md\n         ".concat(e.className," \n        "),children:e.children})}},2197:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5893);function a(e){var n;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"mb-1 mt-3",children:e.texto}),(0,r.jsx)("input",{type:null!==(n=e.tipo)&&void 0!==n?n:"text",value:e.valor,readOnly:e.somenteLeitura,onChange:function(n){var t;return null===(t=e.valorMudou)||void 0===t?void 0:t.call(e,n.target.value)},className:"\n                border border-purple-500 rounded-lg \n                focus:outline-none bg-gray-200 px-4 py-2\n                ".concat(e.somenteLeitura?"bg-gray":"bg-white","\n            ")})]})}},7376:function(e,n,t){"use strict";t.d(n,{K:function(){return a},z:function(){return o}});var r=t(5893),a=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),o=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},3343:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(5893);function a(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"px-5 py-2 text-2xl",children:e.children}),(0,r.jsx)("hr",{className:"border-2 border-gray-600"})]})}function o(e){return(0,r.jsxs)("div",{className:"\n            flex flex-col w-10/12\n            bg-gray-100\n            text-gray-800 \n            rounded-md\n        ",children:[(0,r.jsx)(a,{children:e.titulo}),(0,r.jsx)("div",{className:"p-2",children:e.children})]})}},90:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r=t(4051),a=t.n(r),o=t(5893),i=t(7294),u=t(2633),c=t(5663);function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function d(e,n){return function(e,n){return n.get?n.get.call(e):n.value}(e,l(e,n,"get"))}function f(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}function p(e,n,t){return function(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}(e,l(e,n,"set"),t),t}function v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=new WeakMap,m=new WeakMap,x=new WeakMap,w=new WeakMap,g=new WeakMap,b=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;s(this,e),f(this,h,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),f(this,x,{writable:!0,value:void 0}),f(this,w,{writable:!0,value:void 0}),f(this,g,{writable:!0,value:void 0}),p(this,m,n),p(this,x,t),p(this,w,a),p(this,g,o),p(this,h,r)}var n,t,r;return e.vazio=function(){return new e(null,"",null,null,null)},n=e,(t=[{key:"id",get:function(){return d(this,h)}},{key:"ativo",get:function(){return d(this,m)}},{key:"nome",get:function(){return d(this,x)}},{key:"createAt",get:function(){return d(this,w)}},{key:"updateAt",get:function(){return d(this,g)}}])&&v(n.prototype,t),r&&v(n,r),e}(),j=t(2197);function y(e){var n,t,r,a,u,s,l=null===(n=e.equipamento)||void 0===n?void 0:n.id,d=null===(t=e.equipamento)||void 0===t?void 0:t.ativo,f=null===(r=e.equipamento)||void 0===r?void 0:r.createAt,p=null===(a=e.equipamento)||void 0===a?void 0:a.updateAt,v=(0,i.useState)(null!==(s=null===(u=e.equipamento)||void 0===u?void 0:u.nome)&&void 0!==s?s:""),h=v[0],m=v[1];return(0,o.jsxs)("div",{children:[!!l&&(0,o.jsx)(j.Z,{somenteLeitura:!0,texto:"C\xf3digo",valor:l}),l?(0,o.jsx)(j.Z,{texto:"Nome",valor:h.toUpperCase(),somenteLeitura:!0}):(0,o.jsx)(j.Z,{texto:"Nome",valor:h.toUpperCase(),valorMudou:m}),(0,o.jsxs)("div",{className:"mt-5 flex justify-end",children:[(0,o.jsx)(c.Z,{cor:"blue",className:"mr-2",onClick:function(){var n;return null===(n=e.equipamentoMudou)||void 0===n?void 0:n.call(e,new b(d,h.toUpperCase(),l,f,p))},children:l?"Alterar":"Criar"}),(0,o.jsx)(c.Z,{cor:"blue",onClick:e.cancelado,children:"Cancelar"})]})]})}var k=t(3343),N=t(7376);function q(e){var n=function(n){return(0,o.jsx)("td",{className:"flex justify-center",children:!!e.equipamentoFinalizado&&(0,o.jsx)("button",{children:N.z,onClick:function(){var t;return null===(t=e.equipamentoFinalizado)||void 0===t?void 0:t.call(e,n)},className:"\n                      flex justify-center items-center\n                      text-blue-600 rounded-full p-2 m-1\n                      hover:bg-purple-50\n                  "})})},t=e.equipamentoSelecionado||e.equipamentoFinalizado;return(0,o.jsxs)("table",{className:"w-full",children:[(0,o.jsx)("thead",{className:"\n                text-gray-200\n                bg-gradient-to-r from-gray-500 to-gray-600\n            \n            ",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"text-left p-3",children:"C\xf3digo"}),(0,o.jsx)("th",{className:"text-left p-3",children:"Nome"}),!!t&&(0,o.jsx)("th",{className:"p-4",children:"Inativar"})]})}),(0,o.jsx)("tbody",{children:function(){var r;return null===(r=e.equipamentos)||void 0===r?void 0:r.map((function(e,r){return(0,o.jsxs)("tr",{className:"".concat(r%2===0?"bg-gray-300":"bg-gray-400"),children:[(0,o.jsx)("td",{className:"text-left p-2",children:e.id}),(0,o.jsx)("td",{className:"text-left p-2",children:e.nome}),!!t&&n(e)]},e.id)}))}()})]})}function E(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,a)}function C(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function z(){var e=function(){n.obterEquipamentosAtivos().then((function(e){f(e),h("tabela")}))},n=new u.Z,t=(0,i.useState)(b.vazio()),r=t[0],s=t[1],l=(0,i.useState)([]),d=l[0],f=l[1],p=(0,i.useState)("tabela"),v=p[0],h=p[1];function m(){return(m=C(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.finalizarEquipamento(r);case 2:e();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=C(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.criarEquipamento(r);case 2:e();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,i.useEffect)(e,[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"\n    flex justify-center items-center min-h-screen  max-h-full\n    bg-gradient-to-r from-slate-400 to-slate-500 text-neutral-50\n    ",children:(0,o.jsx)(k.Z,{titulo:"Equipamentos Ativos",children:"tabela"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mt-5 flex justify-end",children:(0,o.jsx)(c.Z,{cor:"blue",className:"mb-3 m-2",onClick:function(){s(b.vazio()),h("form")},children:"Novo equipamento"})}),(0,o.jsx)(q,{equipamentos:d,equipamentoFinalizado:function(e){return m.apply(this,arguments)}})]}):(0,o.jsx)(y,{equipamento:r,equipamentoMudou:function(e){return x.apply(this,arguments)},cancelado:function(){return h("tabela")}})})})})}}},function(e){e.O(0,[669,774,888,179],(function(){return n=9240,e(e.s=n);var n}));var n=e.O();_N_E=n}]);