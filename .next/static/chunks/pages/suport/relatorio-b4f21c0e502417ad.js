(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{3424:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/suport/relatorio",function(){return r(2260)}])},3547:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(4051),a=r.n(n);function o(e,t,r,n,a,o,c){try{var s=e[o](c),u=s.value}catch(i){return void r(i)}s.done?t(u):Promise.resolve(u).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function s(e){o(c,n,a,s,u,"next",e)}function u(e){o(c,n,a,s,u,"throw",e)}s(void 0)}))}}var s=r(9669),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.criarChamado=function(e){return c(a().mark((function t(){var r,n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={aberto:!0,nome:e.nome,setor:e.setor,subSetor:e.subSetor,ilha:e.ilha,baia:e.baia,cputombo:e.cputombo,cpunumeroserie:e.cpunumeroserie,monitor1tombo:e.monitor1tombo,monitor1numeroserie:e.monitor1numeroserie,monitor2tombo:e.monitor2tombo,monitor2numeroserie:e.monitor2numeroserie,impressora:e.impressora,telefone:e.telefone,equipamentoComDefeito:e.equipamentoComDefeito,equipamentoTombo:e.equipamentoTombo,descricao:e.descricao,equipeSuport:e.equipeSuport,status:"ABERTO",observacao:e.observacao},t.next=4,s.post("".concat("http://10.0.0.129:3032/","criarChamado/"),r);case 4:return n=t.sent,console.log(n),o=n.data,t.abrupt("return",o);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},t.atualizarChamado=function(e){return c(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,r={method:"put",url:"".concat("http://10.0.0.129:3032/","updateChamado/")+e.id,data:{subSetor:e.subSetor,equipamentoComDefeito:e.equipamentoComDefeito,equipeSuport:e.equipeSuport,status:e.status,ilha:e.ilha,observacao:e.observacao}},t.next=5,s(r);case 5:t.sent,console.log("chamado atualizado com sucesso"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),console.log(t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14],[1,9]])})))()},t.finalizarChamado=function(e){return c(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=6;break}return r={method:"put",url:"".concat("http://10.0.0.129:3032/","updateCampoAbertoChamado/")+e.id,headers:{}},t.next=5,s(r);case 5:console.log("finalizado com sucesso");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Erro ao finalizar chamado ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},t.obterChamadosAbertos=function(){return c(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.get("".concat("http://10.0.0.129:3032/","listarChamadosAbertos"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},t.obterChamadosComStatusAberto=function(){return c(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.get("".concat("http://10.0.0.129:3032/","listarChamadosComStatusAberto"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},t.obterTodosChamados=function(){return c(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("entrei na rota chamado"),e.prev=1,e.next=4,s.get("".concat("http://10.0.0.129:3032/","listarTodosChamados"));case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},t.chamadosPorSetor=function(e,t,r){return c(a().mark((function n(){var o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("entrei na rota seto"),o={setor:e,dataInicial:t,dataFinal:r},n.next=5,s.post("".concat("http://10.0.0.129:3032/","chamadosPorSetor"),o);case 5:return c=n.sent,n.abrupt("return",c.data);case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},t.chamadosPorSuport=function(e,t,r){return c(a().mark((function n(){var o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={equipeSuport:e,dataInicial:t,dataFinal:r},n.next=4,s.post("".concat("http://10.0.0.129:3032/","chamadosPorSuport"),o);case 4:return c=n.sent,n.abrupt("return",c.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},t.chamadosPorTipoEquipamento=function(e,t,r){return c(a().mark((function n(){var o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={equipamentoComDefeito:e,dataInicial:t,dataFinal:r},n.next=4,s.post("".concat("http://10.0.0.129:3032/","chamadosPorTipoEquipamento"),o);case 4:return c=n.sent,n.abrupt("return",c.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},e}()},8798:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5893);function a(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"px-10 py-2 text-xl",children:e.children}),(0,n.jsx)("hr",{className:"border-2 border-gray-600"})]})}var o=r(5675),c=r.n(o),s={src:"/_next/static/media/logotipoSeec.06cb5494.png",height:120,width:145,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/ASOBPigP/ARPzoO+s9jW2iEKCQ7qHiEY3DVmPFT2KgSbAR99OMMCAQs8eCc69wsDH94NCAT15+vaCnDUvywg+PmFARt/QK408d8+GSSTExcUGQDu+AAA9PHZAL7gcQAF/yyLAQAA/wCUXgFwbCfNfKMyBhPC6QT8m+Pn93rhQrCG8FWDAZhsOQAb9+xnhi87hvUB2RIHBQwAFPMX7Wm/pXLfGySiAVO6OAsr2AKc6wXvCcwBFyr2/v35Rv7u4Qz8D/KDb8ZbAanQDQfq3S5Q7+4KKhAL7AH0+gUC//wQ+w8T89FFRseyOytlYFywrzIAAAAASUVORK5CYII="};function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return e.src};function l(e){return(0,n.jsx)(c(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},e,{loader:i}))}function p(e){return(0,n.jsxs)("div",{className:"\n            flex flex-col w-99\n            bg-gray-200\n            text-gray-800 \n            rounded-md\n        ",children:[(0,n.jsxs)("div",{className:"columns-1",children:[(0,n.jsx)("div",{className:"grid justify-items-center",children:l(s)}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Secretaria de Educa\xe7\xe3o, do Esporte e Lazer do Estado do Rio Grande do Norte"}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Grupo de Processamento de Dados - GPD"}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Suporte"})]}),(0,n.jsx)("hr",{className:"border-2 border-gray-600"}),(0,n.jsx)(a,{children:e.titulo}),(0,n.jsx)("div",{className:"p-2",children:e.children})]})}},2260:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(4051),a=r.n(n),o=r(5893),c=r(7294),s=r(3547),u=r(6887),i=[["Element","",{role:"style"}],["Total de Chamados",100,"#b87333"]];function l(e){return i[1][1]=e.total,(0,o.jsx)(u.kL,{chartType:"ColumnChart",width:"100%",height:"400px",data:i})}function p(e){var t=e.data;return(0,o.jsx)(u.kL,{chartType:"PieChart",data:t,options:e,width:"100%",height:"400px"})}var d=r(8798),h=r(9198),f=r.n(h);r(5828);function m(e){return(0,o.jsxs)("table",{className:"w-full",children:[(0,o.jsx)("thead",{className:"\n                text-gray-200\n                bg-gradient-to-r from-gray-500 to-gray-600\n            \n            ",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"text-left p-3",children:"Setor"}),(0,o.jsx)("th",{className:"text-left p-3",children:"Quantidade de Chamados"})]})}),(0,o.jsx)("tbody",{children:function(){var t,r=0;return null===(t=e.nome)||void 0===t?void 0:t.map((function(t,n){if(e.size[n])return r++,(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{className:"".concat(r%2===0?"bg-gray-400":"bg-gray-300"),children:[(0,o.jsx)("td",{className:"text-left p-2",children:e.nome[n]}),(0,o.jsx)("td",{className:"text-left p-2",children:e.size[n]})]},n)})}))}()})]})}var v=r(4155);function x(e,t,r,n,a,o,c){try{var s=e[o](c),u=s.value}catch(i){return void r(i)}s.done?t(u):Promise.resolve(u).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){x(o,n,a,c,s,"next",e)}function s(e){x(o,n,a,c,s,"throw",e)}c(void 0)}))}}var g=r(9669),w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.SetoresAtivos=function(){throw new Error("Method not implemented.")},t.atualizarTelefone=function(e){throw new Error("Method not implemented.")},t.criarSetor=function(e){return b(a().mark((function t(){var r,n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={ativo:!0,nome:e.nome,telefone:e.telefone},console.log("entrei"),t.next=5,g.post("".concat("http://10.0.0.129:3032/","criarSetor/"),r);case 5:return n=t.sent,console.log(n),o=n.data,t.abrupt("return",o);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},t.finalizarSetor=function(e){return b(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=6;break}return r={method:"put",url:"".concat("http://10.0.0.129:3032/","updateCampoAtivoSetor/")+e.id,headers:{}},t.next=5,g(r);case 5:console.log("finalizado com sucesso");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Erro ao finalizar setor ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},t.atualizarTelefoneSetor=function(e){return b(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,r={method:"put",url:"".concat("http://10.0.0.129:3032/","updateTelefoneSetor/")+e.id,data:{telefone:e.telefone}},t.next=5,g(r);case 5:t.sent,console.log("telefone atualizado com sucesso"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),console.log(t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14],[1,9]])})))()},t.obterSetoresAtivos=function(){return b(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("".concat("http://10.0.0.129:3032/","listarSetoresAtivos"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},t.obterTodosSetores=function(){return b(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("".concat(v.env.NEXT_PUBLIC_URL2,"obterTodosSetores"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},e}(),y=r(6785);function A(e,t,r,n,a,o,c){try{var s=e[o](c),u=s.value}catch(i){return void r(i)}s.done?t(u):y.Promise.resolve(u).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new y.Promise((function(n,a){var o=e.apply(t,r);function c(e){A(o,n,a,c,s,"next",e)}function s(e){A(o,n,a,c,s,"throw",e)}c(void 0)}))}}var S=r(9669);function C(){var e=function(e){return e?(0,o.jsx)(f(),{selected:C,onChange:function(e){return k(e)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,maxDate:new Date,scrollableMonthYearDropdown:!0,placeholderText:"Click para selecionar a data"}):(0,o.jsx)(f(),{selected:P,onChange:function(e){return D(e)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,maxDate:new Date,scrollableMonthYearDropdown:!0,placeholderText:"Click para selecionar a data"})},t=(new w,new s.Z),r=(0,c.useState)({nomeSetor:[],quantidade:[]}),n=r[0],u=r[1],i=(0,c.useState)([]),h=i[0],v=i[1],x=(0,c.useState)([]),b=x[0],g=x[1],A=(0,c.useState)(new Date),C=A[0],k=A[1],N=(0,c.useState)(new Date),P=N[0],D=N[1],E=(0,c.useState)(0),T=E[0],q=E[1],O=C.getFullYear()+"-"+(C.getMonth()+1)+"-"+C.getDate()+" 00:00:00.000-03",F=P.getFullYear()+"-"+(P.getMonth()+1)+"-"+P.getDate()+" 23:59:59.999-03";function z(e,t){return Q.apply(this,arguments)}function Q(){return(Q=j(a().mark((function e(r,n){var o,c,s,i,l,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat("http://10.0.0.129:3030/","setor/obterTodosSetores")),e.next=3,S.get("".concat("http://10.0.0.129:3030/","setor/obterTodosSetores"));case 3:if(o=e.sent,c=o.data.map((function(e){return e.nome})),!(s=c.map((function(e){return t.chamadosPorSetor(e,r,n)}))).length){e.next=13;break}return e.next=9,y.Promise.all(s);case 9:i=e.sent,console.log(i),e.next=14;break;case 13:i=[0];case 14:return l=[],p=[],Object.keys(i).forEach((function(e){l.push(i[e].nome),p.push(i[e].size)})),d=p.reduce((function(e,t){return e+t})),q(d),u({nomeSetor:l,quantidade:p}),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return _.apply(this,arguments)}function _(){return(_=j(a().mark((function e(r,n){var o,c,s,u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("".concat("http://10.0.0.129:3032/","listarEquipeSuportAtivos"));case 2:return o=e.sent,c=o.data.map((function(e){return e.nome})),s=c.map((function(e){return t.chamadosPorSuport(e,r,n)})),e.next=7,y.Promise.all(s);case 7:return u=e.sent,i=[["Task","Hours per Day"]],Object.keys(u).forEach((function(e){u[e][1]&&i.push(u[e])})),v(i),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return Y.apply(this,arguments)}function Y(){return(Y=j(a().mark((function e(r,n){var o,c,s,u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("".concat("http://10.0.0.129:3032/","listarEquipamentosAtivos"));case 2:return o=e.sent,c=o.data.map((function(e){return e.nome})),s=c.map((function(e){return t.chamadosPorTipoEquipamento(e,r,n)})),e.next=7,y.Promise.all(s);case 7:return u=e.sent,i=[["Task","Hours per Day"]],Object.keys(u).forEach((function(e){u[e][1]&&i.push(u[e])})),g(i),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){var e=1;if(e){var t=P.getFullYear()+"-01-01 00:00:00.000-03",r=P.getFullYear()+"-12-31 23:59:59.999-03";z(t,r),R(t,r),M(t,r),e=0}else z(O,F)}),[]),(0,o.jsx)("div",{className:"\n            flex justify-center  items-end  min-h-screen  max-h-full\n            bg-gradient-to-r from-slate-400 to-slate-500 text-neutral-50 \n            ",children:(0,o.jsxs)(d.Z,{titulo:"Relat\xf3rios de chamados",children:[(0,o.jsx)("div",{className:"grid grap-2 grid-cols-2",children:(0,o.jsxs)("div",{className:"grid grap-2 grid-cols-3",children:[(0,o.jsxs)("div",{className:"px-2 py-2",children:[(0,o.jsx)("h2",{className:"text-xl",children:"Data inicial:"}),e(!0)]}),(0,o.jsxs)("div",{className:"px-2 py-2",children:[(0,o.jsx)("h2",{className:"text-xl",children:"Data Final:"}),e(!1)]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:" absolute bg-blue-800 text-white px-2 py-4 rounded-md  hover:bg-blue-600",onClick:function(){z(O,F),R(O,F),M(O,F)},children:(0,o.jsx)("h2",{className:"text-xl",children:"Gerar Rel\xe1torio"})})})]})}),(0,o.jsx)("hr",{className:"border-2 border-gray-600"}),(0,o.jsxs)("div",{className:"justify-center grid grap-1 grid-cols-2",children:[(0,o.jsx)(l,{total:T}),(0,o.jsx)("div",{className:"justify-center",children:(0,o.jsx)(m,{nome:n.nomeSetor,size:n.quantidade})})]}),(0,o.jsxs)("div",{className:"justify-center grid grap-1 grid-cols-2",children:[(0,o.jsx)(p,{title:"Chamados por Suporte",data:h}),(0,o.jsx)(p,{title:"Chamados por Equipamento",data:b})]})]})})}}},function(e){e.O(0,[961,713,170,774,888,179],(function(){return t=3424,e(e.s=t);var t}));var t=e.O();_N_E=t}]);